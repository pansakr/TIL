### Layer와 Layered 구조

* 어떤 설계, 관계에 대한 계층 구조가 있을때 윗 계층은 아래 계층에 의존적이다.

### Osi 7Layer

* 통신 과정을 7단계로 나눈것, 상위 계층은 하위 계층에 의존적이다.

### L1 - Physical Layer 

* 물리적으로 연결된 전선으로 비트 단위의 데이터를 전송하는 계층

* 비트 데이터를 아날로그 신호로 바꾸어(인코딩) 전선으로 흘려보내고, 아날로그 신호가 들어오면 비트 데이터로 해석한다.


### L2 - DataLink Layer 이더넷 프로토콜

* LAN 범위 내에서 Mac 주소를 기반으로 데이터를 전송하는 계층

* 데이터 링크 계층에서 사용하는 데이터 전송 단위는 프레임이다

* Mac주소는 Nic의 식별자다.

*식별자 - 어떤 대상을 유일하게 구분할 수 있는 이름


### L3 - Network Layer 인터넷 프로토콜

* LAN 외부의 네트워크에서 통신하기 위한 계층
  
* ip주소와 라우터를 이용해 전송 경로를 찾고 데이터를 전송한다

* 데이터의 헤더에 있는 목적지 정보(IP주소)를 읽고 경로를 찾는다.

* 세그먼트를 패킷으로 박싱, 언박싱 해주고 이때 목적지 ip주소를 헤더에 집어넣는다


### L4 - Transport Layer TCP, UDP 프로토콜

* port 번호를 통해 데이터를 프로세스에게 전달하는 계층

* 스트림 데이터를 세그먼트로 나눠주거나 세그먼트로 나뉜 데이터를 스트림으로 합쳐주고 출발지와 목적지 포트정보를 집어넣거나 읽는다


### L5 ~ L7 - Application

* 현대의 인터넷은 OSI 7 모델이 아니라 TCP/IP 모델을 사용한다.

* OSI 7 모델은 5,6,7 계층이 각각 Session, Presentation, Application 이지만, TCP/IP는 5,6,7 계층이 Application 하나로 합쳐져 있다

* 응용 계층의 여러 프로토콜을 통해 데이터를 송, 수신하는 계층

* 웹 사이트는 HTTP , 파일전송은 FTP, 메일전송은 SMTP, 메일수신은 POP3 프로토콜을 사용한다.

* 보내는 데이터에 상태 코드나 데이터 형식같은 정보를 추가로 보내고 받는다.

* HTTP는 무상태성이고 따라서 클라이언트와 서버가 상호작용에 필요한 정보를 기억해야할 필요가 있었다.

* 이것을 클라이언트에서 쿠키로 구현하고 서버는 세션으로 구현했다.

### 계층별 데이터 단위

* L1,L2 - Frame

* L3 - Packet. 최대 단위 - MSS(Maxiam Transmission Unit)

* L4 - TCP : Segment, UDP : 데이터그램. 최대 단위 - MSS(Maxiam Segment Size)

* L5 - Stream. 데이터 덩어리 - 보낼 데이터를 일정 크기로 자른것(크기는 프로그래머가 설정). 자른 송신 데이터들을 전부 보내야 스트림이 끝난다
