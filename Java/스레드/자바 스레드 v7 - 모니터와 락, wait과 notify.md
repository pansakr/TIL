### ìžë°”ì˜ ëª¨ë‹ˆí„°

* ê°ì²´ì˜ ë™ê¸°í™” ë° ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì¶”ìƒì ì¸ ê°œë… 

### ìžë°”ì˜ ë½

* ëª¨ë‹ˆí„°ë¥¼ êµ¬í˜„ ì¤‘ í•˜ë‚˜ë¡œ, ë™ê¸°í™” ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•˜ëŠ” ì‹¤ì œ ë„êµ¬

* synchronized í‚¤ì›Œë“œë¡œ ë©”ì„œë“œë‚˜ ë©”ì„œë“œ ë‚´ë¶€ì— {} í˜•íƒœë¡œ ì ìš©í•  ìˆ˜ ìžˆë‹¤

* ë½ì€ ê°ì²´ ë‹¨ìœ„ë¡œ ì ìš©ë˜ê¸° ë•Œë¬¸ì— í•˜ë‚˜ì˜ í´ëž˜ìŠ¤ ë‚´ë¶€ì— ë™ê¸°í™” ë©”ì„œë“œê°€ ë‘˜ ì´ìƒ ìžˆìœ¼ë©´ ë™ì‹œì— ì‹¤í–‰ë˜ì§€ ëª»í•œë‹¤

* í•œ ìŠ¤ë ˆë“œê°€ ê°ì²´ì˜ synchronized ë©”ì„œë“œë¥¼ ì‹¤í–‰ ì¤‘ì´ë¼ë©´, ë™ì¼í•œ ê°ì²´ì˜ ë‹¤ë¥¸ synchronized ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë ¤ëŠ” ë‹¤ë¥¸ ìŠ¤ë ˆë“œëŠ” ë½ì´ ë°˜ë‚©ë  ë•Œê¹Œì§€ ëŒ€ê¸°í•´ì•¼ í•œë‹¤

```
// ë™ìž‘ íë¦„. í•˜ë‚˜ì˜ ë™ê¸°í™” ë©”ì„œë“œë¥¼ A, B ìŠ¤ë ˆë“œê°€ ì‹¤í–‰í•˜ë ¤ëŠ” ìƒí™©
1. A ìŠ¤ë ˆë“œ: ë™ê¸°í™” ë©”ì„œë“œë¥¼ í˜¸ì¶œ â†’ ê°ì²´ì˜ ë½ íšë“ ì‹œë„ â†’ ë½ì„ ì„±ê³µì ìœ¼ë¡œ íšë“í•˜ë©´ ë©”ì„œë“œ ì‹¤í–‰ ì‹œìž‘
2. B ìŠ¤ë ˆë“œ: ë™ê¸°í™” ë©”ì„œë“œë¥¼ í˜¸ì¶œ â†’ ê°ì²´ì˜ ë½ íšë“ ì‹œë„ â†’ ë½ì´ ì—†ëŠ” ê²½ìš° ëŒ€ê¸°
3. A ìŠ¤ë ˆë“œ: ë©”ì„œë“œ ì‹¤í–‰ ì™„ë£Œ â†’ ê°ì²´ì˜ ë½ì„ í•´ì œ
4. B ìŠ¤ë ˆë“œ: ëŒ€ê¸°ì—ì„œ ë²—ì–´ë‚˜ ë½ì„ íšë“í•˜ê³  ë©”ì„œë“œ ì‹¤í–‰
```



### Object ì˜ ì“°ë ˆë“œ ê´€ë ¨ ë©”ì†Œë“œ

* wait() - í˜„ìž¬ ìŠ¤ë ˆë“œë¥¼ ëŒ€ê¸° ìƒíƒœë¡œ ë§Œë“¤ê³  ë½ì„ ë°˜ë‚©í•œë‹¤

* notifyAll() - ëŒ€ê¸° ìƒíƒœì— ìžˆëŠ” ëª¨ë“  ìŠ¤ë ˆë“œë¥¼ ê¹¨ìš´ë‹¤

  - ê¹¨ì–´ë‚œ ìŠ¤ë ˆë“œë“¤ì€ ë‹¤ì‹œ ë½ì„ ì–»ê¸° ìœ„í•´ ê²½ìŸí•˜ê³ , ë½ì„ ì–»ì€ ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ì„ ìž¬ê°œí•œë‹¤
 
  - ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ê°™ì€ ê°ì²´ ë½ì„ ê¸°ë‹¤ë¦¬ê³  ìžˆì„ ë•Œ ì‚¬ìš©í•˜ë©°, ê·¸ ì¤‘ ì–´ë–¤ ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ”ì§€ í™•ì‹ í•  ìˆ˜ ì—†ì„ ë•Œ ì‚¬ìš©í•œë‹¤
 
* notify() - ëŒ€ê¸°ì—´ì˜ ì“°ë ˆë“œ ì¤‘ í•˜ë‚˜ë§Œ ê¹¨ìš´ë‹¤

  - ê¹¨ìš´ ìŠ¤ë ˆë“œê°€ ì–´ë–¤ ì´ìœ ë¡œ ì‹¤í–‰ ë¶ˆê°€ëŠ¥í•œ ìƒíƒœë©´ ë¬´í•œ ëŒ€ê¸° ìƒíƒœê°€ ëœë‹¤
 
  - ìž˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ

```java
public class PhoneBooth {

    synchronized public void phoneCall (SoldierRun soldier) {
        System.out.println("â˜Žï¸ %s ì „í™” ì‚¬ìš©ì¤‘...".formatted(soldier.title));

        try { Thread.sleep(500);
        } catch (InterruptedException e) {}

        System.out.println("ðŸ‘ %s ì „í™” ì‚¬ìš© ì™„ë£Œ".formatted(soldier.title));

        // ì•„ëž˜ì˜ ì½”ë“œê°€ ì—†ë‹¤ë©´ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œê°€ ë¬´í•œìœ¼ë¡œ ì‹¤í–‰í•¨
        notifyAll(); // ëŒ€ê¸° ìƒíƒœì˜ ëª¨ë“  ìŠ¤ë ˆë“œë¥¼ ê¹¨ì›€
        try {
          wait();  // í˜„ìž¬ ìŠ¤ë ˆë“œë¥¼ ëŒ€ê¸° ìƒíƒœë¡œ ë§Œë“ ë‹¤
        } catch (InterruptedException e) {
            throw new RuntimeException(e);
        }
    }
}
```
```java
// ê°œë³„ ìŠ¤ë ˆë“œë¡œ ì‚¬ìš©í•  í´ëž˜ìŠ¤
public class SoldierRun implements Runnable{

    String title;
    PhoneBooth phoneBooth;

    public SoldierRun(String title, PhoneBooth phoneBooth) {
        this.title = title;
        this.phoneBooth = phoneBooth;
    }
    @Override
    public void run() {
        while (true) {
            phoneBooth.phoneCall(this);
        }
    }
}
```
```java
// main
public static void main(String[] args) {

  PhoneBooth phoneBooth = new PhoneBooth();

  Arrays.stream("ê¹€ë³‘ìž¥,ì´ìƒë³‘,ë°•ì¼ë³‘,ìµœì´ë³‘".split(","))
          .forEach(s -> new Thread(
              new SoldierRun(s, phoneBooth)
          ).start());
    }
```
