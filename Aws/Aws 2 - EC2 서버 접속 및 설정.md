### EC2 서버 접속

* EC2 인스턴스에 SSH 접속 시 반드시 공개 키가 필요함(.pem)

    - 생성된 EC2 인스턴스는 인터넷에 노출된 서버로, 보안이 매우 중요하다

    - 가상 머신에서 사용한 비밀번호 로그인 방식은 무차별 대입에 매우 취약하다

    - 때문에 EC2 인스턴스는 키 기반 인증을 사용하며, 비밀번호 로그인은 비활성화 되어 있다  

* MobaXterm 로 접속

    - Windows에서 사용할 수 있는 SSH 클라이언트 + 터미널 + X 서버 기능을 모두 포함한 통합 리눅스 원격 접속 도구

    - 구글에 mobaxterm 검색 -> 홈페이지 접속 -> 상단의 download -> Free 버전 -> Installer edition

    - GUI 기반

* PowerShell 로 접속

    - 

### EC2 웹 서버 설정

* 접속 후 sudo apt update -> sudo install -y tomcat10 -> sudo apt install net-tools

    - netstat -nlpt 입력 시 실행중인 포트 상태를 확인할 수 있다

* AWS 인바운드 규칙 설정

    - 8080 포트로 접속하기 위해선 AWS 인바운드 규칙 설정을 해줘야 한다

        - AWS EC2 -> 인스턴스 -> 보안 -> 보안 그룹 -> 인바운드 규칙 편집

        - 유형 : 사용자 지정 TCP, 포트 범위 : 8080, 소스 : Anywhere-IPv4

    - UFW 와 AWS 보안 그룹 설정 의 차이점

        - UFW : 우분투 방화벽으로 리눅스 수준으로 포트를 열고 막는 것

        - AWS 보안 그룹 : EC2 의 클라우드 방화벽

        - EC2 는 AWS 보안 그룹이라는 클라우드 방화벽이 먼저 작동하고, 그 다음으로 EC2 인스턴스에 설치된 우분투의 방화벽이 작동하게 된다

            - 그렇기 때문에 AWS 홈페이지에서 인바운드 규칙 설정을 통해 포트를 허용해야만 요청을 받을 수 있다

            - 트래픽은 AWS 보안 그룹 -> EC2 -> UFW 순으로 흐른다

        - EC2 기본 우분투는 UFW 가 꺼져 있어서 AWS 에서 포트 허용 시 바로 접근이 가능하다

            - UFW 활성화 시 똑같이 허용해 줘야 함

            - AWS 에서 80 포트 허용하고, UFW에서 80 포트 차단 시 우분투 접근 불가능

* 톰캣 자동 실행 등록

    - AWS EC2 인스턴스 중지 시 실행 중인 프로그램이 모두 종료된다

    - 재실행 했을 때 웹 서버가 자동 실행되게 하려면 톰캣을 자동 실행 등록해 두어야 한다

    - sudo systemctl enable tomcat10
