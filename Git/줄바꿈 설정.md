### Window 와 Mac/Unix 계열 운영체제의 줄바꿈 설정

#### CRLF

* 컴퓨터가 나오기 이전 타자기로 글을 종이 끝까지 썼을 때 줄바꿈을 하기 위해 일어나는 2가지 행위에서 유래된 용어

* 현재는 컴퓨터의 줄바꿈 문자로 사용되고 있다

    - CR : Carriage Return (프로그래밍 언어로 \r)

        - 타자기 시절 현재 위치를 좌측 맨 끝으로 이동시키는 행위

        - 현재는 커서를 왼쪽 끝으로 이동시키는 것을 의미 

    - LF : Line Feed (프로그래밍 언어로 \n)

        - 타자기 시절 종이를 한줄 위로 올려주는 행위

        - 현재는 커서는 그대로 있고 줄만 바꾸는 것을 의미


#### 운영체제 별 줄바꿈 방법

* Window 는 CRLF(\r\n), MacOS/Unix 계열은 LF(\n) 을 줄바꿈(개행) 문자로 사용한다

* 개행문자가 다른 운영체제끼리 데이터를 전송하거나 읽을때 변환을 해주어야 한다

    - 윈도우(CRLF) 에서 Linux(LF) 로 파일 전송하는 경우나 그 반대

    - Unix(LF) 기반 OS 로 작성된 문서를 Window 에서 읽거나 그 반대

    - 변환을 해주지 않으면 문서가 깨져 보이는 현상이 발생한다

* 최신 에디터는 CRLF, LF 모두 지원하므로 다른 운영체제의 문서를 읽을 수 있다

    - 요즘은 윈도우의 메모장도 LF 를 지원함  


#### GIT 줄바꿈 설정

* git add . 명령어 입력 시 줄바꿈 설정이 안되어 있다면 경고 메시지 출력됨

    - core.autocrlf=true : 체크아웃 시 LF -> CRLF 변환, 커밋 시 CRLF -> LF 변환

        - 저장소에서 가져올 때 LF -> CRLF 변환, 저장소에 보낼 때 CRLF -> LF 변환

    - core.autocrlf=input : 체크아웃할 때 변환 없음, 커밋 시 CRLF -> LF 변환 

        - 저장소에는 항상 LF 만 저장되므로 프로젝트는 항상 LF 유지

    - 두 옵션 모두 저장소에 보낼 때는 LF 상태이므로 Unix 계열 서버에 배포할 경우 아무거나 사용해도 무방하다

* 체크아웃

    - Git 내부에 저장된 스냅샷을(특정 버전의 파일들) 컴퓨터의 실제 파일로 복원하는 행위

    - clone, pull, checkout, reset 모두 해당

        - git clone : 저장소의 최신 커밋 파일들이 working directory 에 생성됨

        - git pull : 서버에서 최신 커밋을 가져와 로컬의 리모트 트래킹 브랜치에 갱신하고 그 내용을 병합(체크아웃)

        - git checkout : 변경되는 브랜치의 커밋 내용으로 현재 폴더가 변경됨

```
// git 이 체크아웃 때 개행 문자를 LF -> CRLF 로 변경한다는 경고 문구
warning: in the working copy of 'src/main/resources/application.yml', LF will be replaced by CRLF the next time Git touches it

// 작성된 파일은 개행 문자가 LF 인데, git 설정은 core.autocrlf=true 이므로 체크아웃 시 개행 문자가 CRLF 로 변경되기 때문에 경고 문구 출력된 상황
```

* window 에서 인텔리제이 + 스프링 부트 사용 시 대부분 파일의 기본 줄바꿈이 LF 로 사용됨

    - 이때 git 설정이 core.autocrlf=true 로 되어 있다면 체크아웃 시 LF 로 바뀌기 때문에 경고 문구가 발생

    - 커밋 시 LF 로 다시 변경되기 때문에 그대로 둬도 상관 없지만 경고 문구가 신경쓰인다면 몇가지 설정을 해야 함

        - git 전역 설정 확인 

            - git config --global core.autocrlf : 현재 설정 확인

            - git config --global core.autocrlf input 입력

        - 인텔리제이 줄바꿈 설정 확인

            - File → Settings → Editor → Code Style → General → Line separator

            - Unix and macOS (\n) 로 변경

            - System-dependent : 운영체제가 기본으로 사용하는 줄바꿈 방식 사용
