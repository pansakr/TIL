### 외부 컴퓨터에서 가상머신으로 접속

* 호스트 컴퓨터의 특정 포트를 외부에서 접속하도록 허용하고, 해당 포트로 온 요청을 가상 머신의 IP, 포트로 전달하는 포트 포워딩 설정을 해야 한다

    - 포트 포워딩 : 외부의 특정 포트로 온 요청을 내부의 특정 포트로 전달 해주는 것

    - 컴퓨터 A 의 가상머신에서 웹 서버를 운영할 때 외부에서는 A 컴퓨터로만 요청을 보낼 수 있고, 내부의 가상머신에는 접근하지 못한다

    - 이때 포트 포워딩을 통해 외부에서 온 요청을 내부 가상 머신의 포트로 전달할 수 있다

    - 가상 머신은 별도의 IP와 포트를 가지므로 외부에서 호스트 컴퓨터의 특정 포트로 요청이 왔을때만 가상 머신의 포트로 요청을 전달하도록 설정하면 외부에서 가상머신에 접속할 수 있다 

* 설정

    - 가상머신에 웹 서버 구축 -> ufw allow http/https (HTTP - 80번 포트와 HTTPS - 443번 포트
    허용) 

    - 호스트 컴퓨터의 사용하지 않는 포트(8888) 외부에서 접속 허용

        - 제어판 -> 시스템 및 보안 -> Window Defender 방화벽 -> 왼쪽의 고급 설정

        - 왼쪽 인바운드 규칙 -> 새 규칙 -> 규칙 종류에서 포트 선택

        - 프로토콜 및 포트에서 TCP, 특정 로컬 포트에 8888 입력

        - 작업 및 프로필은 넘기고 이름에 사용할 이름 입력 -> 완료 

    - 가상머신 NAT 설정

        - VM -> Virtual Network Editor -> NAT Setting

        - Add -> Host port 에 8888 입력 -> Virtual Machine Ip Address 에 서버 가상 머신 IP 입력

        - Virtual Machine Port 에 80 입력 -> OK

        - Allow active FTP, Allow any ... 체크 -> 완료

* 접속 순서 예시

    - 외부 pc에서 주소창에 IP 주소와 포트 번호를(ex: 8888) 입력

    - 호스트 컴퓨터의 8888 포트에 도달

    - 호스트 컴퓨터는 8888 포트로 요청이 오면 내부 가상머신의 특정 포트로 요청을 전달하도록 포트 포워딩 설정이 되어 있음

    - 호스트 컴퓨터는 요청을 내부의 가상머신 IP, port 로 전달

    - 해당 주소는 웹 서버로 요청을 받아 외부 컴퓨터에게 응답
